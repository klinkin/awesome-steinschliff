# 🎿 Использование CLI команд для Steinschliff

## 📊 Команда `conditions` - Статистика по условиям снега

### Описание
Выводит детальную статистику распределения структур по условиям снега (snow conditions).

### Использование

```bash
# Базовое использование
uv run python scripts/cli.py conditions

# С указанием директории шлифов
uv run python scripts/cli.py conditions --schliffs schliffs

# С включенным debug логированием
uv run python scripts/cli.py conditions --log-level DEBUG
```

### Параметры

| Параметр | Короткий | Описание | По умолчанию |
|----------|----------|----------|--------------|
| `--schliffs` | `-s` | Путь к директории со шлифами | `schliffs` |
| `--log-level` | `-l` | Уровень логирования (DEBUG/INFO/WARNING/ERROR/CRITICAL) | `WARNING` |

### Пример вывода

```
                     📊 Статистика по условиям снега
┏━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━┓
┃ Условие ┃ Emoji ┃ Название        ┃ Температура ┃ Количество ┃      % ┃
┡━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━┩
│ BLUE    │  🔵   │ Умеренный холод │   -12…0°C   │         74 │  43.5% │
│ PINK    │  💗   │ Мокрый          │   0…20°C    │         22 │  12.9% │
│ GREEN   │  🟢   │ Холод           │  -30…-12°C  │         21 │  12.4% │
│ VIOLET  │  🟣   │ Старый          │   -15…0°C   │         21 │  12.4% │
│ YELLOW  │  💛   │ Тепло           │   0…20°C    │         20 │  11.8% │
│ RED     │  🔴   │ Переходка       │   -5…5°C    │          6 │   3.5% │
│ BROWN   │  🟤   │ Грязный         │    любая    │          5 │   2.9% │
│ ORANGE  │  🟠   │ Глянец          │   -5…5°C    │          1 │   0.6% │
├─────────┼───────┼─────────────────┼─────────────┼────────────┼────────┤
│ ВСЕГО   │       │                 │             │        170 │ 100.0% │
└─────────┴───────┴─────────────────┴─────────────┴────────────┴────────┘

✅ Все структуры имеют валидные значения condition!
```

### Что показывает таблица

- **Условие** - Ключ условия снега (blue, red, green и т.д.)
- **Emoji** - Эмодзи для визуальной идентификации
- **Название** - Русское название условия из `snow_conditions/*.yaml`
- **Температура** - Температурный диапазон для данного условия
- **Количество** - Количество структур с этим условием
- **%** - Процент от общего количества структур

### Условия снега (Snow Conditions)

| Код | Emoji | Название | Температура | Характеристики |
|-----|-------|----------|-------------|----------------|
| `green` | 🟢 | Холод | -30…-12°C | Холодный, скрипучий, сухой |
| `blue` | 🔵 | Умеренный холод | -12…0°C | Свежий, порошкообразный |
| `violet` | 🟣 | Старый | -15…0°C | Ледяной, сахарный, старый |
| `orange` | 🟠 | Глянец | -5…5°C | Новый, глянцевый |
| `red` | 🔴 | Переходка | -5…5°C | Крупнозернистый, слёживающийся |
| `pink` | 💗 | Мокрый | 0…20°C | Насыщенный водой, новый |
| `yellow` | 💛 | Тепло | 0…20°C | Мокрый, старый |
| `brown` | 🟤 | Грязный | любая | Грязный, загрязнённый |

---

## 📋 Другие полезные команды

### `generate` - Генерация README
```bash
uv run python scripts/cli.py generate
```

### `export-json` - Экспорт в JSON
```bash
uv run python scripts/cli.py export-json
```

### `list` - Просмотр списка структур
```bash
# Все структуры
uv run python scripts/cli.py list

# Фильтр по бренду
uv run python scripts/cli.py list --service "Fischer"

# Фильтр по условию
uv run python scripts/cli.py list --condition "blue"

# Комбинированный фильтр
uv run python scripts/cli.py list --service "Fischer" --condition "blue"
```

---

## 🛠️ Вспомогательные скрипты

### Заполнение условий
```bash
# Автоматическое заполнение поля condition
uv run python scripts/fill_conditions.py

# Проверка корректности заполнения
uv run python scripts/check_conditions.py

# Поиск кандидатов на RED и BROWN
uv run python scripts/find_red_brown_candidates.py

# Применение RED и BROWN к кандидатам
uv run python scripts/apply_red_brown.py

# Финальный отчет
uv run python scripts/final_report.py
```

---

## 📝 Примечания

- Все команды запускаются через `uv run` для использования виртуального окружения
- Данные загружаются из директории `schliffs/` и файлов `snow_conditions/*.yaml`
- Статистика обновляется автоматически при изменении YAML-файлов
